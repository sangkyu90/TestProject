<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">
		
		<select id="list" resultType="com.project.test.board.vo.BoardVo"> 
		select bno,
			   title,
			   content,
			   userId,
			   regDate,
			   viewCnt
		from board
		order by
		 bno desc,
		 regDate desc
		</select>
		
		<select id="view" resultType="com.project.test.board.vo.BoardVo"> 
			select * from board
			where bno = #{bno}
		</select>
		
		<insert id="insert">
			Insert into board(
			bno,
			title,
			content,
			userId)
			values(
			(select NVL(Max(bno)+1, 1)from board),
			#{title},
			#{content},
			#{userId}
			)	
		</insert>
		
		<update id ="viewCnt">
			update board set viewCnt = viewCnt +1
			where bno = #{bno}
		</update>
		
		<update id="update">
			Update Board set
			title = #{title},
			content = #{content},
			userId = #{userId}
			where bno = #{bno}
		</update>
		
		<delete id="delete">
			delete From board
			where bno = #{bno}
		</delete>
</mapper>